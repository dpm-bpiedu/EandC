!function(){var e,t,n,o,c,i,s;document.querySelectorAll("[aria-expanded][aria-controls]").forEach(function(r){c=r.getAttribute("aria-controls"),i=document.querySelector("#"+c),s=document.querySelector("[name='"+c+"']"),i.classList.add("ec_collapsed"),r.addEventListener("click",function(){var t;e="false"===(t=this).getAttribute("aria-expanded"),n=document.getElementById(t.getAttribute("aria-controls")),e?(t.setAttribute("aria-expanded","true"),n.classList.replace("ec_collapsed","ec_expanded")):(t.setAttribute("aria-expanded","false"),n.classList.replace("ec_expanded","ec_collapsed"))},!1),s.addEventListener("click",function(){t=this.getAttribute("name"),o=document.querySelector("[aria-controls='"+t+"']"),n=document.getElementById(t),o.setAttribute("aria-expanded","false"),n.classList.replace("ec_expanded","ec_collapsed")},!1)})}(),function(){function e(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function t(t,n,o){let c=document.createElement("button"),i=document.createTextNode(n);return c.appendChild(i),e(c,{type:"button","aria-label":"Close",class:t}),c.addEventListener("click",o),c}const n={triggers:document.querySelectorAll("[data-type=tipTrigger]"),boxes:document.querySelectorAll("[class^=tipBox]"),manageScreen:function(t){if("open"===t){const t="position: fixed; top: 0; left: 0; right: 0; height: 100%; z-index: 4599; background-color: black; opacity: .65;";this.body=document.querySelector("body"),this.screen=document.createElement("div"),e(this.screen,{style:t,id:"tipBox_screen"}),this.body.insertBefore(this.screen,this.body.firstChild),document.getElementsByTagName("html")[0].setAttribute("style","overflow: hidden;")}else"close"===t&&(this.screen=document.getElementById("tipBox_screen"),this.screen.remove(),document.getElementsByTagName("html")[0].removeAttribute("style"))},setENV:function(){null===document.querySelector("span.werd")?this.envIndex=0:this.envIndex=1},setBoxes:function(){this.boxes.forEach(function(e){o.setBox(e)})},setEsc:function(){document.addEventListener("keydown",function(e){27===e.keyCode&&o.closeBox()})},manageFocus:function(e){if("open"===e)o.obj.focus(),document.addEventListener("keydown",function(e){const t=o.obj.querySelectorAll("a, button, iframe, [tabindex]");let n=t[0],c=t[t.length-1],i="Tab"===e.key||9===e.keyCode,s="escape"===e.key||27===e.keyCode;(i||s)&&(e.shiftKey?document.activeElement===n&&(c.focus(),e.preventDefault()):i&&document.activeElement===c&&(n.focus(),e.preventDefault()))});else{if("close"!==e)return;c.obj.focus()}},setPage:function(){this.setENV(),this.setBoxes(),this.setEsc()}},o={setBox:function(t){this.content=t.children[n.envIndex],this.label=o.content.children[n.envIndex],this.content.setAttribute("role","document"),this.label.setAttribute("id",`${t.id}`),this.labelText=this.label.textContent,e(t,{"aria-hidden":"true",role:"dialog",tabindex:0,"aria-labelledby":`${t.id}-label`}),c.obj=document.querySelector(`[href$=${t.id}]`),c.setTrigger(this.labelText,t.id)},addBtns:function(){o.content.insertBefore(t("btn-close-top","x",this.closeBox),o.content.firstChild),o.content.appendChild(t("btn-close-bottom","close",this.closeBox))},removeBtns:function(){let e=o.obj.querySelector(".btn-close-top"),t=o.obj.querySelector(".btn-close-bottom");e.remove(),t.remove()},openBox:function(e){c.obj=document.querySelector(`[aria-controls=${e}]`),this.obj=document.getElementById(e),this.content=this.obj.children[n.envIndex],this.labelText=this.content.children[n.envIndex].textContent,n.manageScreen("open"),this.addBtns(),this.obj.setAttribute("aria-hidden","false"),this.obj.addEventListener("dblclick",this.closeBox),this.content.addEventListener("dblclick",function(e){e.stopPropagation()}),n.manageFocus("open")},closeBox:function(){o.obj.setAttribute("aria-hidden","true"),o.removeBtns(),n.manageScreen("close"),n.manageFocus("close")}},c={setTrigger:function(t,c){e(this.obj,{"aria-controls":c,title:`Click to open ${t}`}),this.obj.addEventListener("click",function(e){e.preventDefault(),n.activeRef=this.href.slice(this.href.indexOf("#")+1),o.openBox(n.activeRef)})}};n.setPage()}();